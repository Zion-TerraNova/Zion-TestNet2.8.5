<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="ZION TestNet Pool Setup: how to run a mining pool, configuration, Stratum, monitoring." />
  <title>Pool Setup · ZION TestNet Docs</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="icon" href="../assets/icons/zion.gif" type="image/gif">
  <link rel="stylesheet" href="../css/main.css" />
</head>
<body>
  <nav class="navbar">
    <div class="container">
      <div class="nav-brand">
        <a href="../" class="logo">
          <img src="../assets/icons/zion.gif" alt="ZION Logo" width="40" height="40">
        </a>
        <div class="brand-text">
          <a href="../" class="brand-name">ZION</a>
          <span class="brand-version">TestNet 2.8.5</span>
        </div>
      </div>
      <button class="mobile-toggle" aria-label="Toggle menu">
        <span></span><span></span><span></span>
      </button>
      <ul class="nav-menu">
        <li><a href="../index.html">Home</a></li>
        <li class="dropdown">
          <button class="dropdown-toggle" aria-expanded="false">Docs <span class="chevron"></span></button>
          <div class="dropdown-menu">
            <a href="index.html">Overview</a>
            <a href="getting-started.html">Getting Started</a>
            <a href="setup.html">Setup Guide</a>
            <a href="mining-guide.html">Mining Guide</a>
            <a href="consciousness-levels.html">Consciousness Levels</a>
            <a href="api-reference.html">API Reference</a>
            <a href="faq.html">FAQ</a>
          </div>
        </li>
        <li class="dropdown">
          <button class="dropdown-toggle" aria-expanded="false">Network <span class="chevron"></span></button>
          <div class="dropdown-menu">
            <a href="testnet-info.html">TestNet Info</a>
            <a href="pool-setup.html">Pool Setup</a>
            <a href="technical-specs.html">Technical Specs</a>
            <a href="version-history.html">Version History</a>
            <a href="roadmap.html">Roadmap</a>
          </div>
        </li>
        <li class="dropdown">
          <button class="dropdown-toggle" aria-expanded="false">OASIS <span class="chevron"></span></button>
          <div class="dropdown-menu">
            <a href="oasis.html">Overview</a>
          </div>
        </li>
        <li><a href="../dashboard.html">Dashboard</a></li>
        <li><a href="https://github.com/Zion-TerraNova/Zion-TestNet2.8.5" target="_blank" class="nav-btn">GitHub</a></li>
      </ul>
    </div>
  </nav>

  <div class="docs-layout">
    <!-- Sidebar Navigation -->
    <aside class="docs-sidebar">
      <div class="sidebar-section">
        <div class="sidebar-section-title">Getting Started</div>
        <ul class="sidebar-nav">
          <li><a href="getting-started.html">Getting Started</a></li>
          <li><a href="setup.html">Setup Guide</a></li>
        </ul>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-section-title">Core Documentation</div>
        <ul class="sidebar-nav">
          <li><a href="whitepaper-lite.html">Whitepaper Lite</a></li>
          <li><a href="whitepaper-lite-cz.html">Whitepaper Lite (CZ)</a></li>
          <li><a href="cosmic-map.html">Cosmic Map</a></li>
          <li><a href="oasis.html">ZION OASIS</a></li>
          <li><a href="testnet-info.html">TestNet Info</a></li>
        </ul>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-section-title">Mining</div>
        <ul class="sidebar-nav">
          <li><a href="mining-guide.html">Mining Guide</a></li>
          <li><a href="consciousness-levels.html">Consciousness Levels</a></li>
          <li><a href="pool-setup.html" class="active">Pool Setup</a>
            <ul class="sidebar-sub">
              <li><a href="#overview">Overview</a></li>
              <li><a href="#requirements">Requirements</a></li>
              <li><a href="#config">Configuration</a></li>
              <li><a href="#stratum">Stratum Protocol</a></li>
              <li><a href="#monitoring">Monitoring</a></li>
            </ul>
          </li>
        </ul>
      </div>

      <div class="sidebar-section">
        <div class="sidebar-section-title">Reference</div>
        <ul class="sidebar-nav">
          <li><a href="api-reference.html">API Reference</a></li>
          <li><a href="faq.html">FAQ</a></li>
        </ul>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="docs-content">
      <h1>Pool Setup</h1>
      <p class="hero-description" style="font-size:1.125rem;color:var(--text-secondary);margin-bottom:2rem;">Run a mining pool for the ZION TestNet: configuration, Stratum, and monitoring.</p>

      <h2 id="overview">Overview</h2>
      <p>A mining pool aggregates multiple miners to reduce variance in block discovery. As a pool operator, you'll run a Stratum server, validate shares, and distribute rewards proportionally to miners based on their contributed work.</p>

      <h2 id="requirements">Requirements</h2>
      <ul>
        <li><strong>Server:</strong> Stable network connection with static IP address</li>
        <li><strong>Hardware:</strong> SSD storage, 8–16 GB RAM, multi-core CPU</li>
        <li><strong>Network:</strong> Public ports open (typically 3333/tcp for Stratum)</li>
        <li><strong>Software:</strong> ZION full node running in sync with the network</li>
        <li><strong>Database:</strong> PostgreSQL or MySQL for tracking shares and payouts</li>
      </ul>

      <h2 id="config">Configuration</h2>
      <ol class="numbered">
        <li><strong>Run a full node</strong> in testnet mode and ensure it stays synchronized with the network.</li>
        <li><strong>Configure Stratum endpoint</strong> (hostname, port, difficulty targeting based on miner hashrate).</li>
        <li><strong>Implement share validation</strong> and block submission to your node.</li>
        <li><strong>Set payout scheme</strong> (PPLNS, PPS, or PROP) and configure payout intervals.</li>
        <li><strong>Setup database</strong> to record miner shares, blocks found, and payouts.</li>
        <li><strong>Configure fees</strong> for pool operation (typically 1-3% of block rewards).</li>
      </ol>

      <div class="code-block">
        <div class="code-header">
          <span class="code-lang">bash</span>
          <span class="code-title">Example pool configuration</span>
        </div>
        <pre><code># Pool configuration example
POOL_ADDRESS=your_pool_wallet_address
STRATUM_PORT=3333
MIN_DIFF=1000
MAX_DIFF=100000
PAYOUT_THRESHOLD=100.0
PAYOUT_INTERVAL=3600  # seconds</code></pre>
      </div>

      <h2 id="stratum">Stratum Protocol</h2>
      <p>The Stratum mining protocol is the standard for communication between mining pools and miners. ZION uses a Stratum-compatible implementation with these key methods:</p>
      
      <ul>
        <li><code>mining.subscribe</code> - Miner subscribes to pool</li>
        <li><code>mining.authorize</code> - Miner authentication with wallet address</li>
        <li><code>mining.set_difficulty</code> - Pool sets difficulty target for miner</li>
        <li><code>mining.notify</code> - Pool sends new work to miners</li>
        <li><code>mining.submit</code> - Miner submits share to pool</li>
      </ul>

      <p class="note">Protocol details are evolving on testnet. Start with standard Stratum semantics and adapt to testnet updates. Check the <a href="https://github.com/Zion-TerraNova/Zion-TestNet2.8.5" target="_blank">repository</a> for announcements.</p>

      <h2 id="monitoring">Monitoring</h2>
      <p>Essential metrics to track for pool health and miner satisfaction:</p>
      
      <ul>
        <li><strong>Pool hashrate</strong> - Total combined hashrate of all miners</li>
        <li><strong>Active miners</strong> - Number of currently connected miners</li>
        <li><strong>Shares submitted</strong> - Valid/invalid share ratio</li>
        <li><strong>Blocks found</strong> - Total blocks discovered by the pool</li>
        <li><strong>Orphan rate</strong> - Percentage of blocks that became orphaned</li>
        <li><strong>Payout statistics</strong> - Total paid out and pending payments</li>
        <li><strong>Network difficulty</strong> - Current network difficulty trend</li>
      </ul>

      <p>Set up alerts for:</p>
      <ul>
        <li>High reject rates (>5% invalid shares)</li>
        <li>Node synchronization issues</li>
        <li>Stale connections and disconnected miners</li>
        <li>Low pool hashrate or unusual drops</li>
      </ul>

      <p>Publish a simple pool status page showing real-time stats, recent blocks, and payout information for transparency.</p>

      <div class="note">Pool software and Stratum implementation details are subject to change during testnet. Monitor <a href="https://github.com/Zion-TerraNova/Zion-TestNet2.8.5/releases" target="_blank">releases</a> for updates and best practices.</div>
    </main>
  </div>

  <footer class="footer">
    <div class="container">
      <div class="footer-bottom"><p>&copy; 2025 ZION Blockchain</p></div>
    </div>
  </footer>
  <script src="../js/main.js"></script>
  <script>
    // Highlight active TOC items on scroll
    document.addEventListener('DOMContentLoaded', () => {
      const sections = document.querySelectorAll('.docs-content h2[id]');
      const sidebarLinks = document.querySelectorAll('.sidebar-sub a');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const id = entry.target.getAttribute('id');
            sidebarLinks.forEach(link => {
              link.classList.toggle('active', link.getAttribute('href') === `#${id}`);
            });
          }
        });
      }, { rootMargin: '-100px 0px -80% 0px' });
      sections.forEach(section => observer.observe(section));
    });
  </script>
</body>
</html>
